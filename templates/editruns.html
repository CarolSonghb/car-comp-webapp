{% extends "base.html" %}
{% block content %}
<h2 class="my-5" style="margin-left: 10%;">Edit Run</h2>
<div class="d-flex justify-content-center">
    <form action="/editruns" method="POST" class="row">
        <input type="hidden" name="driver_id" value="{{ run_details.driver_id }}">
        <input type="hidden" name="course_id" value="{{ run_details.course_id }}">
        <input type="hidden" name="run_num" value="{{ run_details.run_num }}">

        <div class="col-md-6">
            <div class="form-group">
                <label for="driver_id">Driver ID:</label>
                <input type="text" class="form-control" id="driver_id" name="driver_id"
                    value="{{ run_details.driver_id }}" disabled>
            </div>

            <div class="form-group">
                <label for="driver_name">Driver Name:</label>
                <input type="text" class="form-control" id="driver_name" name="driver_name"
                    value="{{ run_details.surname }} {{ run_details.firstname }}" disabled>
            </div>

            <div class="form-group">
                <label for="course_name">Course Name:</label>
                <input type="text" class="form-control" id="course_name" name="course_name"
                    value="{{ run_details.course_name }}" disabled>
            </div>

            <div class="form-group">
                <label for="run_num">Run Number:</label>
                <input type="text" class="form-control" id="run_num" name="run_num" value="{{ run_details.run_num }}"
                    disabled>
            </div>
        </div>

        <div class="col-md-6">
            <div class="form-group">
                <label for="new_time">New Time (mm.ss or mm.s):</label>
                <input type="text" class="form-control" id="new_time" name="new_time" value="{{ run_details.existing_time }}"
                    pattern="[0-9]{2}:[0-9]{2}|[0-9]{2}\.[0-9]{1,2}" title="Please enter a valid time format (mm.ss or mm.s)" required>
            </div>


            <div class="form-group">
                <label for="new_cones">New Cones (No more than 25):</label>
                <input type="number" class="form-control" id="new_cones" name="new_cones"
                    value="{% if run_details.existing_cones is not none %}{{ run_details.existing_cones }}{% else %}0{% endif %}"
                    min="0" max="25">
            </div>


            <div class="form-group">
                <label for="new_wd">New WD:</label>
                <select class="form-control" id="new_wd" name="new_wd">
                    <option value="0" {% if run_details.existing_wd==0 %}selected{% endif %}>0</option>
                    <option value="1" {% if run_details.existing_wd==1 %}selected{% endif %}>1</option>
                </select>
            </div>
        </div>
        <button type="submit" class="btn btn-primary mt-5">Update Run</button>
        <button type="reset" class="btn btn-secondary mt-2" style="margin-bottom: 20%;">Reset</button>
    </form>
</div>
{% endblock %}