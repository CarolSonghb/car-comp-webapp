{% extends "base.html" %}
{% block content %}
<h2 class="my-5" style="margin-left: 10%;">Search Results</h2>
<div class="d-flex justify-content-center">
    <!-- Check if there are any search results to display -->
    {% if search_results %}
    <table class="table" style="width: 80%;">
        <thead class="thead-dark">
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Surname Firstname</th>
                <th scope="col">D.O.B</th>
                <th scope="col">Age</th>
                <th scope="col">Caregiver</th>
                <th scope="col">Car Model</th>
                <th scope="col">Drive Class</th>
            </tr>
        </thead>
        <tbody>
            {% for result in search_results %}
            <tr>
                <td>{{ result[0] }}</td>
                <td>{{ result[2] }} {{ result[1] }}</a></td>
                <td>{{ result[3] }}</td>
                <td>{{ result[4] }}</td>
                <td>{{ result[5] }}</td>
                <td>{{ result[6] }}</td>
                <td>{{ result[7] }}</td>
                <td>
                    <a href="/admin/viewrundetails?driver_id={{ result[0] }}" class="btn btn-primary btn-sm">Edit Runs</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <!-- Display a message when there are no search results -->
    <p>No matching drivers found.</p>
    {% endif %}
</div>
<div class="d-flex justify-content-center vh-100">
    <div class="text-center">
        <form action="/searchdriver" method="POST">
            <div class="input-group">
                <input class="form-control m-4" type="text" name="search_text" placeholder="First name or Surname"
                    id="driverInput" style="width: 300px;">
                <div class="input-group-append">
                    <button type="submit" class="btn btn-dark my-4">Search Driver</button>
                </div>
            </div>
        </form>
        <a href="/adminportal">
            <button type="button" class="btn btn-info" style="margin-right: 50px;">Go back to Admin Portal</button>
        </a>
    </div>
</div>

{% endblock %}